<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Team Task Tracker</title>

<style>
:root {
  --bg: #f5f6fa;
  --card: #ffffff;
  --text: #2c2c2c;
  --primary: #2d6cdf;
}

body.dark {
  --bg: #121212;
  --card: #1e1e1e;
  --text: #f1f1f1;
}

body {
  font-family: Inter, Arial, sans-serif;
  background: var(--bg);
  color: var(--text);
  margin: 0;
  padding: 0;
  display: flex;
  flex-direction: column;
  align-items: center;
  min-height: 100vh;
  transition: 0.3s;
}

h1 { margin: 20px 0 10px; }

/* ===== DARK MODE ===== */
#darkToggle {
  position: fixed;
  top: 14px;
  right: 14px;
  font-size: 18px;
  background: none;
  border: none;
  cursor: pointer;
}

/* ===== MEMBERS ===== */
#members {
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
  justify-content: center;
  margin-bottom: 10px;
}

.member {
  background: var(--card);
  padding: 10px 14px;
  border-radius: 12px;
  cursor: pointer;
}

.member.active {
  background: var(--primary);
  color: white;
}

/* ===== TASK SECTION ===== */
#taskSection {
  width: 95%;
  max-width: 600px;
  background: var(--card);
  padding: 20px;
  border-radius: 16px;
  margin-bottom: 40px;
}

ul {
  list-style: none;
  padding: 0;
}

li {
  background: #eee;
  padding: 12px;
  border-radius: 10px;
  margin-bottom: 10px;
}

body.dark li {
  background: #2a2a2a;
}

button {
  padding: 6px 10px;
  border-radius: 6px;
  border: none;
  background: var(--primary);
  color: white;
  cursor: pointer;
}
</style>
</head>

<body>

<button id="darkToggle">ðŸŒ™</button>
<h1>Team Task Tracker</h1>

<div id="members"></div>

<section id="taskSection" style="display:none;">
  <h2 id="memberTitle"></h2>
  <ul id="taskList"></ul>
</section>

<script>
/* ===== CONFIG ===== */
const FORM_LINK = "YOUR_GOOGLE_FORM_LINK_HERE";

/* ===== DATA (VIEW ONLY) ===== */
const members = ["Meca","Johny","Jerome","Carl","Shawn","Jomar","Yvone"];

// Sample tasks (you can hardcode or sync manually)
const tasks = {
  Meca: ["Design banner", "Fix homepage"],
  Johny: ["Write content"],
  Yvone: ["QA testing"]
};

let selectedMember = null;

/* ===== DARK MODE FIXED ===== */
const toggle = document.getElementById("darkToggle");
if (localStorage.getItem("dark") === "true") {
  document.body.classList.add("dark");
  toggle.textContent = "â˜€ï¸";
}

toggle.onclick = () => {
  document.body.classList.toggle("dark");
  localStorage.setItem("dark", document.body.classList.contains("dark"));
  toggle.textContent = document.body.classList.contains("dark") ? "â˜€ï¸" : "ðŸŒ™";
};

/* ===== RENDER MEMBERS ===== */
const membersDiv = document.getElementById("members");

members.forEach(m => {
  const div = document.createElement("div");
  div.className = "member";
  div.textContent = m;
  div.onclick = () => {
    selectedMember = m;
    document.querySelectorAll(".member").forEach(x => x.classList.remove("active"));
    div.classList.add("active");
    renderTasks();
  };
  membersDiv.appendChild(div);
});

/* ===== TASKS ===== */
const taskSection = document.getElementById("taskSection");
const taskList = document.getElementById("taskList");
const title = document.getElementById("memberTitle");

function renderTasks() {
  taskSection.style.display = "block";
  title.textContent = selectedMember + "'s Tasks";
  taskList.innerHTML = "";

  (tasks[selectedMember] || []).forEach(task => {
    const li = document.createElement("li");
    li.innerHTML = `
      ${task}
      <br><br>
      <button onclick="openForm('${selectedMember}','${task}')">
        Mark Completed
      </button>
    `;
    taskList.appendChild(li);
  });
}

/* ===== FORM SUBMISSION ===== */
function openForm(member, task) {
  const url = `${FORM_LINK}&entry.123456=${member}&entry.654321=${task}`;
  window.open(url, "_blank");
}
</script>

</body>
</html>
